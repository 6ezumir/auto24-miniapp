
let currentStep = 1;
let answers = [];
const alex = document.getElementById("alex");
const progress = document.getElementById("progress");

document.addEventListener("DOMContentLoaded", () => {
  document.querySelector(".logo").classList.add("fade-in");
  document.querySelector(".intro-text").classList.add("slide-in");
  setTimeout(() => {
    document.getElementById("step1").classList.remove("hidden");
    showAlexReaction("–ü—Ä–∏–≤–µ—Ç! –î–∞–≤–∞–π —Å–æ–±–µ—Ä–µ–º —Ç–≤–æ–π –∞–≤—Ç–æ–º–æ–±–∏–ª—å –º–µ—á—Ç—ã! üöó");
  }, 1200);
});

function nextStep(answer) {
  answers.push(answer);
  updateProgress();
  showAlexReaction("–ò–Ω—Ç–µ—Ä–µ—Å–Ω–æ, —Ç—ã –≤—ã–±—Ä–∞–ª " + answer);
  document.getElementById(`step${currentStep}`).classList.add("hidden");
  currentStep++;
  document.getElementById(`step${currentStep}`).classList.remove("hidden");
}

function finishGame(budget) {
  answers.push(budget);
  updateProgress(100);
  showAlexReaction("–û—Ç–ª–∏—á–Ω—ã–π –≤—ã–±–æ—Ä! üöó –£–∂–µ –º–µ—á—Ç–∞—é –æ —Ç–≤–æ–µ–º –∞–≤—Ç–æ!");
  document.getElementById(`step${currentStep}`).classList.add("hidden");
  document.getElementById("carBuildAnimation").classList.remove("hidden");
}

function goToBot() {
  window.location.href = "https://t.me/auto24serviceofficial_bot";
}

function showAlexReaction(text) {
  alex.textContent = "–ê–ª–µ–∫—Å: " + text;
}

function updateProgress(forceValue) {
  const value = forceValue !== undefined ? forceValue : Math.min((answers.length / 3) * 100, 100);
  progress.style.width = `${value}%`;
}
